<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Gulp Tutorial with Examples</title>
		<meta name="description" content="Programming Articles Since 2006">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Lennu.net">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="Lennu.net">
		
		<style>/* Only include the syntax highlighter CSS on blog posts */
/**
 * okaidia theme for JavaScript, CSS and HTML
 * Loosely based on Monokai textmate theme by http://www.monokai.nl/
 * @author ocodia
 */

code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: #8292a2;
}

.token.punctuation {
	color: #f8f8f2;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function,
.token.class-name {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

/*
 * New diff- syntax
 */

pre[class*="language-diff-"] {
	--eleventy-code-padding: 1.25em;
	padding-left: var(--eleventy-code-padding);
	padding-right: var(--eleventy-code-padding);
}
.token.deleted {
	background-color: hsl(0, 51%, 37%);
	color: inherit;
}
.token.inserted {
	background-color: hsl(126, 31%, 39%);
	color: inherit;
}

/* Make the + and - characters unselectable for copy/paste */
.token.prefix.unchanged,
.token.prefix.inserted,
.token.prefix.deleted {
	-webkit-user-select: none;
	user-select: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding-top: 2px;
	padding-bottom: 2px;
}
.token.prefix.inserted,
.token.prefix.deleted {
	width: var(--eleventy-code-padding);
	background-color: rgba(0,0,0,.2);
}

/* Optional: full-width background color */
.token.inserted:not(.prefix),
.token.deleted:not(.prefix) {
	display: block;
	margin-left: calc(-1 * var(--eleventy-code-padding));
	margin-right: calc(-1 * var(--eleventy-code-padding));
	text-decoration: none; /* override del, ins, mark defaults */
	color: inherit; /* override del, ins, mark defaults */
}
* { box-sizing: border-box; }
/* Defaults */
:root {
	--font-family: -apple-system, system-ui, sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
}

/* Theme colors */
:root {
	--color-gray-20: #e0e0e0;
	--color-gray-50: #C0C0C0;
	--color-gray-90: #333;

	--background-color: #fff;

	--text-color: var(--color-gray-90);
	--text-color-link: #082840;
	--text-color-link-active: #5f2b48;
	--text-color-link-visited: #17050F;

	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: #e0e0e0;
		--color-gray-50: #C0C0C0;
		--color-gray-90: #dad8d8;

		/* --text-color is assigned to --color-gray-_ above */
		--text-color-link: #1493fb;
		--text-color-link-active: #6969f7;
		--text-color-link-visited: #a6a6f8;

		--background-color: #15202b;
	}
}


/* Global stylesheet */
* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}
body {
	max-width: 40em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main {
	padding: 1rem;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}
header:after {
	content: "";
	display: table;
	clear: both;
}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	font-family: var(--font-family-monospace);
}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em .5em;
	flex-wrap: wrap;
	align-items: center;
	padding: 1em;
}
.home-link {
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
	margin-right: 2em;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
	display: inline-block;
	margin-right: 1em;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: .25em;
	padding-right: .5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}

/* Direct Links / Markdown Headers */
.header-anchor {
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}
a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}
a[href].header-anchor:focus,
a[href].header-anchor:hover {
	text-decoration: underline;
}
a[href].header-anchor:focus,
:hover > a[href].header-anchor {
	color: #aaa;
}

h2 + .header-anchor {
	font-size: 1.5em;
}</style>
	</head>
	<body>
		<a href="#skip" class="visually-hidden">Skip to main content</a>

		<header>
			<a href="/" class="home-link">Lennu.net</a>
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
					<li class="nav-item"><a href="/">Home</a></li>
					<li class="nav-item"><a href="/archive/">Archive</a></li>
					<li class="nav-item"><a href="/about/">About Me</a></li>
				</ul>
			</nav>
		</header>

		<main id="skip">
			
<h1>Gulp Tutorial with Examples</h1>

<ul class="post-metadata">
	<li><time datetime="2016-05-18">18 May 2016</time></li>
</ul>

<p>Gulp is a way to automate processes that one might have when building a system with JavaScript. It is at the moment the fastest build processor leaving behind the old school Grunt which was the previous winner.</p>
<p>The main thing in Gulp are the <strong>tasks</strong>. These are some examples about what the tasks usually are:</p>
<ul>
<li><strong>Compiling</strong> CSS with your favorite technology for example: Sass, LESS, Stylus</li>
<li><strong>Minifying</strong> CSS</li>
<li>Compiling JavaScript with your favorite bundler for example: Browserify, require.js, plain nodejs, or something else</li>
<li>Minifying or <strong>Uglifying</strong> JavaScript</li>
<li>Cleaning folders and moving files from one place to another</li>
<li><strong>Watching</strong> for changes in a folder and start processes if changes happen</li>
</ul>
<p>Sounds cool right? There are a lot of tasks and automation you can achieve with Gulp. These tasks usually take a lot of time if needed to be done manually. The great thing with task runners is that when you do the tasks, everybody on the project can use them. One developer running tasks by hand is not that bad but if the number becomes two or usually more the benefits of these automated processes become solid.</p>
<h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation">#</a></h2>
<p>I have tested this installation process on Ubuntu 14.04 and 16.04. First you need to have nodejs on your system. You can get it from here https://nodejs.org/en/.</p>
<pre><code>npm init # go through the steps with enter, no need to answer anything
npm install gulp --save-dev
</code></pre>
<p>Thats it, now you should have an npm project and a gulp saved to it. Then open up your package.json file on a editor and add <strong>gulp script</strong> to there:</p>
<pre><code>{
  &quot;name&quot;: &quot;example&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;gulpfile.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;gulp&quot;: &quot;gulp&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;gulp&quot;: &quot;^3.9.1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}
</code></pre>
<h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples">#</a></h2>
<p>Gulp always needs a <strong>gulpfile</strong>. Create gulpfile.js in the folder.</p>
<pre><code>'use strict' // makes the JavaScript you write a little bit better
 
var gulp = require('gulp')
 
gulp.task('default', function() {
    console.log('Here is the default task')
})
 
gulp.task('sometask', function() {
    console.log('Here is some task')
})
 
gulp.task('someothertask', function() {
    console.log('Here is some other task')
})
</code></pre>
<p>Here we have a fully functioning automated Gulp task. It is nice to include a default task so you can run gulp with:</p>
<pre><code>npm run gulp
</code></pre>
<p>Otherwise you need to append the task name to the command.</p>
<pre><code>npm run gulp sometask
</code></pre>
<h3 id="chaining-and-ordering-tasks" tabindex="-1">Chaining and ordering tasks <a class="header-anchor" href="#chaining-and-ordering-tasks">#</a></h3>
<p>Often a bit time after the initial Gulp configuration you tend to need to do tasks in certain order. In Gulp this has been done extremely easy. <strong>Lets modify our default task.</strong></p>
<pre><code>gulp.task('default', ['sometask', 'someothertask'], function() {
    console.log('Here is the default task')
})
</code></pre>
<p>What this actually does is, it runs ‘sometask’ and then ‘someothertask’ and after those it runs the default task. This way you can order the tasks the way you want and create different combinations.</p>
<h3 id="sass-task" tabindex="-1">Sass task <a class="header-anchor" href="#sass-task">#</a></h3>
<pre><code>npm install gulp-sass --save-dev
</code></pre>
<pre><code>var sass = require('gulp-sass')
 
gulp.task('sass', function() {
    return gulp.src([
        './sass/**/*.scss',
        './otherplace/sass/**/*.scss',
    ])
    .pipe(sass().on('error', sass.logError))
    .pipe(gulp.dest('./css'))
})
</code></pre>
<h3 id="minify-css-task" tabindex="-1">Minify CSS task <a class="header-anchor" href="#minify-css-task">#</a></h3>
<pre><code>npm install gulp-clean-css --save-dev
</code></pre>
<pre><code>var cleanCSS = require('gulp-clean-css')
 
gulp.task('minify-css', function() {
    return gulp.src('./css/*.css')
    .pipe(cleanCSS())
    .pipe(gulp.dest('./css'))
})
</code></pre>
<h3 id="browserify-task" tabindex="-1">Browserify task <a class="header-anchor" href="#browserify-task">#</a></h3>
<pre><code>npm install browserify --save-dev
npm install vinyl-source-stream --save-dev
</code></pre>
<pre><code>var browserify = require('browserify')
var source = require('vinyl-source-stream')
 
gulp.task('browserify', function() {
    return browserify(['./source/example.js', './source/anotherexample.js'])
    .bundle()
    .pipe(source('bundle.js'))
    .pipe(gulp.dest('./js'))
})
</code></pre>
<h3 id="uglify-task" tabindex="-1">Uglify task <a class="header-anchor" href="#uglify-task">#</a></h3>
<pre><code>npm install gulp-uglify --save-dev
</code></pre>
<pre><code>var uglify = require('gulp-uglify')
 
gulp.task('uglify', function() {
    return gulp.src('./js/*.js')
    .pipe(uglify())
    .pipe(gulp.dest(function(data) {
        return data.base
    }))
})
</code></pre>
<h3 id="clean-task" tabindex="-1">Clean task <a class="header-anchor" href="#clean-task">#</a></h3>
<pre><code>npm install del --save-dev
</code></pre>
<pre><code>var del = require('del')
 
gulp.task('clean', function() {
    return del([
        './css',
        './js',
    ])
})
</code></pre>
<h3 id="watch-task" tabindex="-1">Watch task <a class="header-anchor" href="#watch-task">#</a></h3>
<pre><code>gulp.task('watch', function() {
    gulp.watch('./sass/**/*.scss', ['sass'])
    gulp.watch('./source/**/*.js', ['browserify'])
})
</code></pre>
<h2 id="gulp-4" tabindex="-1">Gulp 4 <a class="header-anchor" href="#gulp-4">#</a></h2>
<p>Gulp 4 is the new version of Gulp which has been in development for a quite some time and the release is coming close. The old ordering style in Gulp 3 has a lot of problems and bugs that the developers chose to fix by developing a new major version of Gulp. You can install it with:</p>
<pre><code>npm install gulpjs/gulp#4.0 --save-dev
</code></pre>
<p>The main difference there is the chaining process which changes to a more clean and simple solution. In Gulp 4 the ordering happens with functions.</p>
<p><strong>Notice that this doesn’t work with Gulp 3.</strong></p>
<pre><code>gulp.task('default',
    gulp.series(
        'clean',
        gulp.parallel(
            'sass',
            gulp.series('browserify', 'uglify')
        ),
        'watch',
    )
)
</code></pre>
<p>Here we have a default task with processes going in the order of</p>
<ol>
<li>Clean</li>
<li>Sass at the same time as Uglify after Browserify</li>
<li>Finally Watch</li>
</ol>
<p>So with:</p>
<pre><code>gulp.series('task', 'task', 'task')
</code></pre>
<p>you can run tasks in series followed by each other, and with:</p>
<pre><code>gulp.parallel('task', 'task', 'task')
</code></pre>
<p>you can run tasks side by side at the same time</p>

<ul class="links-nextprev"><li>Previous: <a href="/2016/sqlite-gui-linux/">SQLite GUI Linux</a></li><li>Next: <a href="/2016/javascript-semicolons-are-not-necessary/">JavaScript Semicolons Are Not Necessary</a></li>
</ul>

		</main>

		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7304499576176216"
     crossorigin="anonymous"></script>
		<!-- Lennu.net -->
		<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7304499576176216"
     data-ad-slot="8208814281"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
		<script>
				(adsbygoogle = window.adsbygoogle || []).push({});
		</script>

		<footer></footer>

		<!-- Current page: /2016/gulp-tutorial-with-examples/ -->
	</body>
</html>
